<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Class Reservation Page</title>
    <link rel="stylesheet" type="text/css" href="../static/student_reservation.css">
    <script type="text/javascript" src="../static/student_reservation_screen.js"></script>
</head>
<div class="card" id="reservationForm">
    <form action="/reserve_class" method="POST" style="text-align:center;">
        <h2>Student Class Reservation Screen</h2>
        {% if 'class_code' in request.args %}
        <label for="">Class Code:</label>&nbsp;<input type="text" name="class-code"
            value="{{ request.args['class_code'] }}" readonly>
        {% else %}
        <label for="">Select your class from dropdown class list</label>&nbsp;<div class="combo-box">
            <select id="class-selector" name="class-code">
                {% for option in options %}
                <option value="{{ option }}" {% if selected|length> 3 and option == selected %}selected{% endif %}>{{
                    option }}</option>
                {% endfor %}
            </select>
        </div>
        {% endif %}
        <br>
        <br>
        <label>Please specify the starting time: </label>&nbsp;<input required type="time" name="start-time"
            id="start-time">
        <label>Please specify the ending time: </label>&nbsp;<input required type="time" name="end-time" id="end-time">
        <label>Please specify the date: </label>&nbsp;<input required type="date" name="date" id="date">
        <br>
        <label for="">Specify whether you want to study alone or with other people</label>
        <label>
            <input type="radio" name="option" value="private" checked>
            I will study individually.
        </label>
        <label>
            <input type="radio" name="option" value="public">
            Other students can also join.
        </label>
        <br>
        <button type="submit" id="submit-btn">Click to Submit Reservation</button>
    </form>
</div>

{% if 'role' in session %}
{% if session['role'] == 'teacher' %}
<form action="teacher/dashboard">
    <button>Go To Teacher Dashboard</button>
</form>
{% elif session['role'] == 'it_staff' %}
<form action="it_staff/dashboard">
    <button>Go To IT Staff Dashboard</button>
</form>
{% elif session['role'] == 'student' %}
<form action="student/dashboard">
    <button>Go To Student Dashboard</button>
</form>
{% endif %}
{% endif %}

<div class="error-messages">
    {% if reservation_already_happened %}
    <p>{{ reservation_already_happened }}</p>
    {% endif %}
    {% if another_user_reserved %}
    <p>{{ another_user_reserved }}</p>
    {% endif %}
</div>

</body>

</html>